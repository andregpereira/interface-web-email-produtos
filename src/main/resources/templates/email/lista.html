<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap
	@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<title>Lista de e-mails</title>
</head>
<body>
	<h2 class="text-center my-4">Lista de e-mails</h2>

	<form id="filtrarPorDataEnvio" class="container col-4 my-4">
		<div class="mb-3">
			<label class="form-label">Filtrar por data de envio</label> <input
				class="form-control" name="dataEnvio" type="date" max="9999-12-31">
			<span class="invalid-feedback"></span>
			<button class="btn btn-outline-primary mt-2" type="submit"
				onclick="filtrar(event, dataEnvio)">Filtrar</button>
		</div>
	</form>

	<table class="table table-striped table-hover table-bordered">
		<thead>
			<tr class="text-center">
				<th>Id</th>
				<th>Chave</th>
				<th>Remetente</th>
				<th>Destinatários</th>
				<th>Destinatários cópia</th>
				<th>Dados</th>
				<th>Assunto e-mail</th>
				<th>Data envio<br>
				<th>Enviado com sucesso?</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="email: ${listaEmails}">
				<td th:text="${email.id}"></td>
				<td th:text="${email.chave}"></td>
				<td th:text="${email.remetente}"></td>
				<td th:text="${email.destinatarios}"></td>
				<td th:text="${email.destinatariosCopia}"></td>
				<td th:text="${email.dados}"></td>
				<td th:text="${email.assuntoEmail}"></td>
				<td th:text="${email.dataEnvio}"></td>
				<td th:text="${email.enviadoComSucesso}"></td>
			</tr>
		</tbody>
	</table>
	<div class="container">
		<button class="btn btn-outline-primary"
			onclick="location.href='/email/lista'">Lista</button>
	</div>

	<script type="text/javascript" src="/js/email/api-email.js"></script>
</body>
</html>